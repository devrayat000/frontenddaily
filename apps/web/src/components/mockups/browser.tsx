import { createStyles } from "@mantine/core";
import { cloneElement } from "react";

import type { MockupProps } from "./types";

const useStyles = createStyles((theme) => ({
  container: {
    width: 1366,
    height: 768,
    borderRadius: theme.radius.lg,
    overflow: "hidden",
    border: "4px solid #1F2224",
    margin: `${theme.spacing.md}px auto`,
    // zoom: "75%",
    scale: "75%",
    willChange: "scale",
    backfaceVisibility: "hidden",
    WebkitFontSmoothing: "subpixel-antialiased",
    WebkitFilter: "blue(0px)",
    transformOrigin: "top center",
  },
  frame: {
    width: "100%",
    height: "calc(100% - 45px)",
    marginTop: -6,
  },
}));

export type BrowserMockupProps = MockupProps & {
  url: string;
};

const BrowserMockup: React.FC<BrowserMockupProps> = ({ children, url }) => {
  const { classes } = useStyles();

  return (
    <div className={classes.container}>
      <svg
        width="100%"
        viewBox="0 0 1440 52"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <g filter="url(#filter0_b_13_401)">
          <rect width="1440" height="52" fill="#1F2224" />
          <rect x="20" y="20" width="12" height="12" rx="6" fill="#EC6B5E" />
          <rect x="40" y="20" width="12" height="12" rx="6" fill="#F4BF4F" />
          <rect x="60" y="20" width="12" height="12" rx="6" fill="#61C453" />
          <path
            d="M101.242 32.5625H114.758C116.398 32.5625 117.211 31.75 117.211 30.1406V20.6016C117.211 18.9922 116.398 18.1797 114.758 18.1797H101.242C99.6094 18.1797 98.7891 18.9844 98.7891 20.6016V30.1406C98.7891 31.7578 99.6094 32.5625 101.242 32.5625ZM101.258 31.3047C100.477 31.3047 100.047 30.8906 100.047 30.0781V20.6641C100.047 19.8516 100.477 19.4375 101.258 19.4375H104.742V31.3047H101.258ZM114.742 19.4375C115.516 19.4375 115.953 19.8516 115.953 20.6641V30.0781C115.953 30.8906 115.516 31.3047 114.742 31.3047H105.969V19.4375H114.742ZM103.242 22.3359C103.477 22.3359 103.688 22.125 103.688 21.8984C103.688 21.6641 103.477 21.4609 103.242 21.4609H101.562C101.328 21.4609 101.125 21.6641 101.125 21.8984C101.125 22.125 101.328 22.3359 101.562 22.3359H103.242ZM103.242 24.3594C103.477 24.3594 103.688 24.1484 103.688 23.9141C103.688 23.6797 103.477 23.4844 103.242 23.4844H101.562C101.328 23.4844 101.125 23.6797 101.125 23.9141C101.125 24.1484 101.328 24.3594 101.562 24.3594H103.242ZM103.242 26.375C103.477 26.375 103.688 26.1797 103.688 25.9453C103.688 25.7109 103.477 25.5078 103.242 25.5078H101.562C101.328 25.5078 101.125 25.7109 101.125 25.9453C101.125 26.1797 101.328 26.375 101.562 26.375H103.242Z"
            fill="white"
            fillOpacity="0.7"
          />
          <rect
            x="124"
            y="17"
            width="1"
            height="18"
            fill="white"
            fillOpacity="0.1"
          />
          <path
            d="M131 25L134 28L137 25"
            stroke="white"
            strokeOpacity="0.7"
            strokeWidth="1.25"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <g>
            <path
              d="M163.626 25.3594C163.626 25.5547 163.696 25.7266 163.844 25.875L170.04 31.9297C170.172 32.0703 170.344 32.1406 170.547 32.1406C170.954 32.1406 171.266 31.8359 171.266 31.4297C171.266 31.2266 171.18 31.0547 171.055 30.9219L165.368 25.3594L171.055 19.7969C171.18 19.6641 171.266 19.4844 171.266 19.2891C171.266 18.8828 170.954 18.5781 170.547 18.5781C170.344 18.5781 170.172 18.6484 170.04 18.7812L163.844 24.8438C163.696 24.9844 163.626 25.1641 163.626 25.3594Z"
              fill="white"
              fillOpacity="0.7"
            />
            <path
              d="M207.251 25.3594C207.251 25.5547 207.18 25.7266 207.032 25.875L200.837 31.9297C200.704 32.0703 200.532 32.1406 200.329 32.1406C199.922 32.1406 199.61 31.8359 199.61 31.4297C199.61 31.2266 199.696 31.0547 199.821 30.9219L205.508 25.3594L199.821 19.7969C199.696 19.6641 199.61 19.4844 199.61 19.2891C199.61 18.8828 199.922 18.5781 200.329 18.5781C200.532 18.5781 200.704 18.6484 200.837 18.7812L207.032 24.8438C207.18 24.9844 207.251 25.1641 207.251 25.3594Z"
              fill="white"
              fillOpacity="0.2"
            />
          </g>
          <path
            d="M399.508 27.9062C399.508 30.7578 401.039 31.8047 405.477 34.3047C405.68 34.4141 405.875 34.4609 406 34.4609C406.125 34.4609 406.328 34.4141 406.523 34.3047C410.969 31.8125 412.492 30.7578 412.492 27.9062V21.9297C412.492 21.1094 412.141 20.8516 411.477 20.5703C410.555 20.1875 407.578 19.1172 406.656 18.7969C406.445 18.7266 406.219 18.6797 406 18.6797C405.781 18.6797 405.555 18.7422 405.352 18.7969C404.43 19.0625 401.445 20.1953 400.523 20.5703C399.867 20.8438 399.508 21.1094 399.508 21.9297V27.9062ZM406.164 33.0156V19.9609C406.203 19.9688 406.25 19.9844 406.312 20.0078C407.492 20.4766 409.781 21.3047 410.992 21.7188C411.203 21.7969 411.25 21.9062 411.25 22.1719V27.6172C411.25 30.0312 410.094 30.6641 406.484 32.8594C406.367 32.9375 406.258 32.9922 406.164 33.0156Z"
            fill="white"
            fillOpacity="0.7"
          />
          <g>
            <path
              d="M575.211 32.2158H580.789C581.545 32.2158 581.914 31.8408 581.914 31.0205V26.7197C581.914 25.9814 581.609 25.6006 580.982 25.5361V24.0596C580.982 21.8506 579.535 20.7842 578 20.7842C576.465 20.7842 575.018 21.8506 575.018 24.0596V25.5654C574.443 25.6533 574.086 26.0283 574.086 26.7197V31.0205C574.086 31.8408 574.455 32.2158 575.211 32.2158ZM575.961 23.9365C575.961 22.4658 576.904 21.6865 578 21.6865C579.096 21.6865 580.039 22.4658 580.039 23.9365V25.5303L575.961 25.5361V23.9365Z"
              fill="white"
              fillOpacity="0.7"
            />
            <text x="590" y="31.5" fill="white" fillOpacity="0.7">
              {new URL(url).hostname}
            </text>
            <path
              d="M992.264 26.624C992.264 29.7407 994.765 32.2417 997.875 32.2417C1000.99 32.2417 1003.48 29.7407 1003.48 26.624C1003.48 26.3193 1003.26 26.0972 1002.95 26.0972C1002.65 26.0972 1002.46 26.3193 1002.46 26.624C1002.46 29.1758 1000.42 31.2197 997.875 31.2197C995.33 31.2197 993.286 29.1758 993.286 26.624C993.286 24.0786 995.33 22.041 997.875 22.041C998.357 22.041 998.808 22.0791 999.183 22.168L997.285 24.0469C997.189 24.1484 997.139 24.2754 997.139 24.4087C997.139 24.7007 997.354 24.9165 997.64 24.9165C997.799 24.9165 997.919 24.8657 998.008 24.7705L1000.62 22.1426C1000.74 22.0347 1000.78 21.9077 1000.78 21.7617C1000.78 21.6221 1000.73 21.4824 1000.62 21.3809L998.008 18.7275C997.919 18.626 997.792 18.5752 997.64 18.5752C997.354 18.5752 997.139 18.8037 997.139 19.0957C997.139 19.229 997.189 19.356 997.278 19.4575L998.967 21.127C998.637 21.0635 998.262 21.019 997.875 21.019C994.765 21.019 992.264 23.5137 992.264 26.624Z"
              fill="white"
              fillOpacity="0.7"
            />
            <rect
              x="428.75"
              y="12.5"
              width="581"
              height="27"
              rx="7.5"
              stroke="white"
              strokeOpacity="0.2"
            />
          </g>
          <path
            d="M1339.49 27.4844C1339.83 27.4844 1340.12 27.2031 1340.12 26.875V18.8516L1340.07 17.6797L1340.59 18.2344L1341.78 19.5C1341.89 19.625 1342.05 19.6875 1342.2 19.6875C1342.52 19.6875 1342.77 19.4531 1342.77 19.1328C1342.77 18.9688 1342.7 18.8438 1342.59 18.7266L1339.95 16.1797C1339.79 16.0234 1339.66 15.9688 1339.49 15.9688C1339.34 15.9688 1339.2 16.0234 1339.04 16.1797L1336.4 18.7266C1336.28 18.8438 1336.22 18.9688 1336.22 19.1328C1336.22 19.4531 1336.45 19.6875 1336.78 19.6875C1336.93 19.6875 1337.1 19.625 1337.21 19.5L1338.39 18.2344L1338.92 17.6797L1338.88 18.8516V26.875C1338.88 27.2031 1339.16 27.4844 1339.49 27.4844ZM1335.02 33.6016H1343.98C1345.61 33.6016 1346.43 32.7891 1346.43 31.1797V23.3828C1346.43 21.7734 1345.61 20.9609 1343.98 20.9609H1341.8V22.2188H1343.95C1344.73 22.2188 1345.17 22.6406 1345.17 23.4531V31.1094C1345.17 31.9219 1344.73 32.3438 1343.95 32.3438H1335.03C1334.25 32.3438 1333.82 31.9219 1333.82 31.1094V23.4531C1333.82 22.6406 1334.25 22.2188 1335.03 22.2188H1337.2V20.9609H1335.02C1333.38 20.9609 1332.56 21.7734 1332.56 23.3828V31.1797C1332.56 32.7891 1333.38 33.6016 1335.02 33.6016Z"
            fill="white"
            fillOpacity="0.7"
          />
          <path
            d="M1369.55 25.3594C1369.55 25.7422 1369.88 26.0547 1370.25 26.0547H1375.3V31.1094C1375.3 31.4844 1375.62 31.8047 1376 31.8047C1376.38 31.8047 1376.7 31.4844 1376.7 31.1094V26.0547H1381.75C1382.12 26.0547 1382.45 25.7422 1382.45 25.3594C1382.45 24.9766 1382.12 24.6562 1381.75 24.6562H1376.7V19.6094C1376.7 19.2344 1376.38 18.9141 1376 18.9141C1375.62 18.9141 1375.3 19.2344 1375.3 19.6094V24.6562H1370.25C1369.88 24.6562 1369.55 24.9766 1369.55 25.3594Z"
            fill="white"
            fillOpacity="0.7"
          />
          <path
            d="M1407.3 24.7266H1410.86C1411.85 24.7266 1412.35 24.2266 1412.35 23.1953V19.7031C1412.35 18.6719 1411.85 18.1797 1410.86 18.1797H1407.3C1406.3 18.1797 1405.8 18.6719 1405.8 19.7031V23.1953C1405.8 24.2266 1406.3 24.7266 1407.3 24.7266ZM1415.14 24.7266H1418.7C1419.69 24.7266 1420.19 24.2266 1420.19 23.1953V19.7031C1420.19 18.6719 1419.69 18.1797 1418.7 18.1797H1415.14C1414.14 18.1797 1413.64 18.6719 1413.64 19.7031V23.1953C1413.64 24.2266 1414.14 24.7266 1415.14 24.7266ZM1407.31 23.625C1407.04 23.625 1406.91 23.4844 1406.91 23.1953V19.7031C1406.91 19.4219 1407.04 19.2812 1407.31 19.2812H1410.84C1411.11 19.2812 1411.25 19.4219 1411.25 19.7031V23.1953C1411.25 23.4844 1411.11 23.625 1410.84 23.625H1407.31ZM1415.16 23.625C1414.88 23.625 1414.74 23.4844 1414.74 23.1953V19.7031C1414.74 19.4219 1414.88 19.2812 1415.16 19.2812H1418.68C1418.95 19.2812 1419.09 19.4219 1419.09 19.7031V23.1953C1419.09 23.4844 1418.95 23.625 1418.68 23.625H1415.16ZM1407.3 32.5625H1410.86C1411.85 32.5625 1412.35 32.0703 1412.35 31.0391V27.5391C1412.35 26.5156 1411.85 26.0156 1410.86 26.0156H1407.3C1406.3 26.0156 1405.8 26.5156 1405.8 27.5391V31.0391C1405.8 32.0703 1406.3 32.5625 1407.3 32.5625ZM1415.14 32.5625H1418.7C1419.69 32.5625 1420.19 32.0703 1420.19 31.0391V27.5391C1420.19 26.5156 1419.69 26.0156 1418.7 26.0156H1415.14C1414.14 26.0156 1413.64 26.5156 1413.64 27.5391V31.0391C1413.64 32.0703 1414.14 32.5625 1415.14 32.5625ZM1407.31 31.4609C1407.04 31.4609 1406.91 31.3203 1406.91 31.0391V27.5469C1406.91 27.2578 1407.04 27.1172 1407.31 27.1172H1410.84C1411.11 27.1172 1411.25 27.2578 1411.25 27.5469V31.0391C1411.25 31.3203 1411.11 31.4609 1410.84 31.4609H1407.31ZM1415.16 31.4609C1414.88 31.4609 1414.74 31.3203 1414.74 31.0391V27.5469C1414.74 27.2578 1414.88 27.1172 1415.16 27.1172H1418.68C1418.95 27.1172 1419.09 27.2578 1419.09 27.5469V31.0391C1419.09 31.3203 1418.95 31.4609 1418.68 31.4609H1415.16Z"
            fill="white"
            fillOpacity="0.7"
          />
        </g>
        <defs>
          <filter
            id="filter0_b_13_401"
            x="-48"
            y="-48"
            width="1536"
            height="148"
            filterUnits="userSpaceOnUse"
            colorInterpolationFilters="sRGB"
          >
            <feFlood floodOpacity="0" result="BackgroundImageFix" />
            <feGaussianBlur in="BackgroundImage" stdDeviation="24" />
            <feComposite
              in2="SourceAlpha"
              operator="in"
              result="effect1_backgroundBlur_13_401"
            />
            <feBlend
              mode="normal"
              in="SourceGraphic"
              in2="effect1_backgroundBlur_13_401"
              result="shape"
            />
          </filter>
        </defs>
      </svg>
      {cloneElement(children, {
        loading: "lazy",
        frameBorder: 0,
        className: classes.frame,
      })}
    </div>
  );
};

export default BrowserMockup;
